Code for 
http://meta-meta.blogspot.com/2010/11/linux-threading-primitives-futex.html
